import{j as g}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.D55ewHcJ.js";const f=r.createContext(void 0),k=o=>["dark","light","system"].includes(o);function x({children:o,defaultTheme:i="dark",storageKey:m="yacms-ui-theme",...h}){const[t,l]=r.useState(()=>{const e=localStorage.getItem(m);return e&&k(e)?e:i}),[u,c]=r.useState("dark");r.useEffect(()=>{const e=window.document.documentElement;e.classList.remove("light","dark");let s;if(t==="system"?s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":s=t,e.classList.add(s),c(s),t==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)"),n=v=>{const d=v.matches?"dark":"light";e.classList.remove("light","dark"),e.classList.add(d),c(d)};return a.addEventListener("change",n),()=>a.removeEventListener("change",n)}},[t]);const T={theme:t,actualTheme:u,setTheme:e=>{localStorage.setItem(m,e),l(e)}};return g.jsx(f.Provider,{...h,value:T,children:o})}export{x as ThemeProvider};
